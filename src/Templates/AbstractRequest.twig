<?php
namespace {{ namespace }}\Message\Request;

use {{ namespace }}\Message\Request\RequestInterface;
use {{ namespace }}\Exception\ValidationException;
use {{ namespace }}\Message\Response\ResponseInterface;

abstract class AbstractRequest implements RequestInterface
{
    abstract protected function getData() : array ;

    public function send() : ResponseInterface {
        return $this->sendData($this->getData());
    }

    abstract protected function validate();

    abstract protected function sendData(array $data) : ResponseInterface;

    abstract protected function sendRequest(string $method, string $endpoint, array $headers = [], array $data = [] );

    abstract protected function setParameter(string $key, $value);
    abstract protected function createResponse(array $data) : ResponseInterface;

    abstract public function setApiVersion(int $value);

    abstract public function getApiVersion() : int;

    abstract public function getEndpointUrl(array $params = []): string; 

    abstract public function getTestMode(): bool;

    abstract public function setTestMode(bool $mode);

    abstract public function getParameters() : array;

    abstract public function initialize(array $parameters);
 }